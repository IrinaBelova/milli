<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Posted Notes
    </title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js">
    </script>
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/css/bootstrap.min.css" rel="stylesheet">
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/js/bootstrap.min.js">
    </script>
    <link type="text/css" rel="stylesheet" href="note.css">
</head>

<body>
    <div class="container">
        <!--this p will explain what layout is active-->
        <p class='page-info'>
        </p>
        <!--this row should show off what the bootstrap grid looks like-->
        <div class="row">
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">1</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">2</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">3</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">4</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">5</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">6</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">7</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">8</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">9</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">10</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">11</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 columnSizeDemo">12</div>
        </div>

        <div class="row">
            <div class="col-xs-12
                        col-sm-12
                        col-md-6
                        col-lg-6
                        card">
                <label for="message">Message:</label>
                <textarea rows="10" cols="60" name="message" id="messageBox">
Dearest monkey,
This is some sample text that goes in this box. I really need to work out how much writing is reasonable to do. In total I have 1200 chars at my disposal, so I really ought to thank you for being such a nice monkey and keeping me safe and happy as I go hunting for acorns and truffles. 

lots of love

Piglet
                </textarea>
            </div>
            <div class="col-xs-12
                        col-sm-12
                        col-md-6
                        col-lg-6
                        envelope">
                <label for="address">Address:</label>
                <textarea rows="10" cols="60" name="address" id="addressBox">
Irina Belova
3 Meeks Road
Marrickville
2204
Australia
                </textarea>
            </div>
        </div>

        <form action="https://www.paypal.com/cgi-bin/webscr"
              method="post"
              target="_top"
              onsubmit="return processInputs();">
            <div class="invisible-bit">
                <input type="hidden" name="cmd" value="_s-xclick">
                <input type="hidden" name="hosted_button_id" value="BAMLF4YGYUAJ6">

                <!--allocated to message - 800 chars-->
                <input type="hidden" name="on0" value="value1">
                <input type="text"   name="os0" id="m1" maxlength="200">

                <input type="hidden" name="on1" value="value2">
                <input type="text"   name="os1" id="m2" maxlength="200">

                <input type="hidden" name="on3" value="value3">
                <input type="text"   name="os3" id="m3" maxlength="200">

                <input type="hidden" name="on4" value="value4">
                <input type="text"   name="os4" id="m4" maxlength="200">

                <!--allocated to address 400 chars-->
                <input type="hidden" name="on5" value="value5">
                <input type="text"   name="os5" id="a1" maxlength="200">

                <input type="hidden" name="on6" value="value6">
                <input type="text"   name="os6" id="a2" maxlength="200">
            </div>
            <input type="image"
                   src="https://www.paypalobjects.com/en_AU/i/btn/btn_paynow_SM.gif" 
                   border="0"
                   name="submit"
                   alt="PayPal â€” The safer, easier way to pay online."
                   id="realButton">
            <img alt="" border="0" src="https://www.paypalobjects.com/en_AU/i/scr/pixel.gif" width="1" height="1">
        </form>
        <a class="btn btn-default btn-lg" id="testButton">test button</a>
</body>

<script>
$(document).ready(function() {

    var processInputs = function() {
        console.log($("#messageBox").val());
        console.log($("#messageBox").val().length);
        console.log($("#addressBox").val());
        console.log($("#addressBox").val().length);

        var tidyMessage = $("#messageBox").val().replace(/(\r\n|\n|\r)/gm,"~|");
        var tidyAddress = $("#addressBox").val().replace(/(\r\n|\n|\r)/gm,"~|");

        var messageChunks1 = tidyMessage.slice(  0,200);
        var messageChunks2 = tidyMessage.slice(200,400);
        var messageChunks3 = tidyMessage.slice(400,600);
        var messageChunks4 = tidyMessage.slice(600,800);

        var addressChunks1 = tidyAddress.slice(  0,200);
        var addressChunks2 = tidyAddress.slice(200,400);
        console.log([messageChunks1, messageChunks2,
                     messageChunks3, messageChunks4,
                     addressChunks1, addressChunks2]);

        $("#m1").val(messageChunks1);
        $("#m2").val(messageChunks2);
        $("#m3").val(messageChunks3);
        $("#m4").val(messageChunks4);
        $("#a1").val(addressChunks1);
        $("#a2").val(addressChunks2);

    };

    $("#testButton").click(processInputs);
    $("#realButton").click(processInputs);


    var bootstrapSize = function() {
        /*this just writes to the top of the doc the width of the
          window, and the bootstrap layout that is currently active.
          more details here: http://getbootstrap.com/css/#grid
        */
        var bsLayout;
        var width = window.innerWidth;
        if (width < 768) {
            bsLayout = "width: " + width + " - Extra small devices (Phones) - Using xs";
        } else if (width >= 768 && width < 992) {
            bsLayout = "width: " + width + " - Small devices (Tablets) - Using sm";
        } else if (width >= 992 && width < 1200) {
            bsLayout = "width: " + width + " - Medium devices (Desktops) - Using md";
        } else if (width >= 1200) {
            bsLayout = "width: " + width + " - Large devices (Desktops) - Using lg";
        } else {
            bsLayout = "width: " + width + " - Something is very wrong!!";
        }
        return bsLayout;
    }
    $(".page-info").html(bootstrapSize());
    window.onresize = function(event) {
        $(".page-info").html(bootstrapSize());
    };
});
</script>

</html>
